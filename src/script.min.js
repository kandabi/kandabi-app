function loadMap(){mapIncluded=!0,include("https://maps.googleapis.com/maps/api/js?key=AIzaSyAScQpWWuRroGpbJRjIYboHrpCQr9vl_Ts&callback=initMap&libraries=&v=weekly")}function Init(){console.log("Is Mobile: %s",device.mobile());var e="en"==pageLanguage?".":"..";particlesJS.load("particles",e+"/src/particles.json"),lozad().observe(),$(".letter, .bounce").bind("webkitAnimationEnd mozAnimationEnd animationend",function(){$(this).removeClass("animation-splat")}),(swiper=new Swiper(".swiper-container",{direction:"horizontal",centeredSlides:!0,autoplay:{delay:6e3,disableOnInteraction:!0},pagination:{el:".swiper-pagination",clickable:!0},scrollbar:{el:".swiper-scrollbar",draggable:!1,clickable:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})).on("slideChange",function(){theaterActive&&closeTheater(),-1!=player.getPlayerState()&&player.stopVideo()}),$(".project-content").click(function(){theaterActive?closeTheater():openTheater($(this))}),$(".about, .contact").click(function(){closeTheater()}),$(".sidebar .item, .contact_btn, .sidebar .logo, .phone, .footer .item").click(function(){var e=$(this).attr("value");console.log("button_clicked: ",e),gtag("event","click",{event_label:"button_clicked",value:e}),e.includes("phone")||e.includes("linkedin")||e.includes("github")||e.includes("facebook")||($("html, body").stop().animate({scrollTop:$("."+e).offset().top},1500),menuActive&&closeMenu())}),$(".loader").fadeOut(500,function(){$(".content, .sidebar").animate({opacity:1},700)});var t=$(".home .text-main h1, .home .text-main h2, .home .text-main h3"),n=150;setTimeout(function(){t.each(function(e){setTimeout(function(){$(t[e]).animate({left:"0",opacity:1},450)},n+=350)});var e=$(".contact_btn, .home .text-secondary");n+=600,e.each(function(t){setTimeout(function(){$(e[t]).animate({opacity:1},500)},n+=350)})},1200),device.mobile()&&$(".sidebar .hamburger_icon").click(function(){menuActive?closeMenu():openMenu()}),$(".sidebar .lang_icon").click(function(){langMenuActive?closeLangMenu():openLangMenu()});var a=document.getElementById("form");a.addEventListener("submit",function(e){e.preventDefault(),console.log("submit event"),setTimeout(n,1e3);var t=!1;function n(){t||(console.log("form submitted"),t=!0,a.submit())}gtag("event","generate_lead",{event_callback:n})}),window.onscroll=function(){var e=document.documentElement.scrollTop;device.mobile()||setHeaderSelection(e),mapIncluded||e>1200&&loadMap()},$(".project-bottom-text a").click(function(){var e=$(this).attr("value");console.assert(e),console.log("project_hyperlink_clicked",e),gtag("event","click",{event_label:"slide_hyperlink_clicked",value:e})})}$(function(){Init();var e=$(document).scrollTop();e&&(loadMap(),device.mobile()||setHeaderSelection(e))});var swiper=null,theaterItem=null,theaterActive=!1,mapIncluded=!1,menuActive=!1,langMenuActive=!1,menuAnimating=!1,player=null,headerActive=!1;function RedirectByLanguage(e){var t=navigator.language||navigator.browserLanguage;cookie=(e=>(new RegExp((e||"=")+"=(.*?); ","gm").exec(document.cookie+"; ")||["",null])[1]);var n=cookie("redirected");if(console.log("redirected",n," language",t),null==n||!n&&t!=e){document.cookie="redirected=true; path=/";var a="en"==e?".":"..";switch(t){case"he":a+="/he/";break;case"es":a+="/es/"}location=a}}function onYouTubeIframeAPIReady(){player=new YT.Player("telloVideo",{events:{onStateChange:onPlayerStateChange}})}function onPlayerStateChange(e){var t;switch(e.data){case YT.PlayerState.PLAYING:t="playing";break;case YT.PlayerState.PAUSED:t="paused";break;case YT.PlayerState.ENDED:t="ended"}t&&(console.log("youtube_statechanged",t),gtag("event","click",{event_label:"youtube_statechanged",value:t}))}function openMenu(){if(!menuAnimating){if(langMenuActive)return closeLangMenu(),void setTimeout(openMenu,450);menuAnimating=!0,$(".sidebar").animate({height:"100%"},150,function(){$(".sidebar .menu").animate({opacity:"1"},220),menuAnimating=!1}),console.log("openMenu"),gtag("event","click",{event_label:"open_menu"}),menuActive=!0}}function closeMenu(){menuAnimating||(menuAnimating=!0,$(".sidebar").animate({height:"56px"},200,function(){menuAnimating=!1}),$(".sidebar .menu").animate({opacity:"0"},200),console.log("closeMenu"),menuActive=!1)}function openLangMenu(){if(!menuAnimating){if(menuActive)return closeMenu(),void setTimeout(openLangMenu,450);menuAnimating=!0,$(".sidebar").animate({height:"110px"},100,function(){$(".sidebar .language_dropdown").animate({opacity:"1"},100,function(){menuAnimating=!1})}),console.log("openLangMenu"),gtag("event","click",{event_label:"open_lang_menu"}),langMenuActive=!0}}function closeLangMenu(){menuAnimating||(menuAnimating=!0,$(".sidebar").animate({height:"56px"},350),$(".sidebar .language_dropdown").animate({opacity:"0"},350,function(){menuAnimating=!1}),console.log("closeLangMenu"),langMenuActive=!1)}function setHeaderSelection(e){var t=null;headerActive||($(".sidebar").addClass("active_sidebar"),headerActive=!0),.02*document.documentElement.scrollHeight>e?(t="home",headerActive&&($(".sidebar").removeClass("active_sidebar"),headerActive=!1)):.2*document.documentElement.scrollHeight<e&&.3*document.documentElement.scrollHeight>e?t="about":.45*document.documentElement.scrollHeight<e&&.5*document.documentElement.scrollHeight>e?t="portfolio":.66*document.documentElement.scrollHeight<e&&.8*document.documentElement.scrollHeight>e&&(t="contact"),null!=t&&($(".sidebar .menu .item .button").removeClass("selected"),$(".sidebar .menu .item[value='"+t+"'] .button").addClass("selected"))}function openTheater(e){$(".overlay").css("display","block"),$(e).prev().addClass("blur"),$(".swiper-pagination, .swiper-scrollbar, .swiper-button-next, .swiper-button-prev").addClass("blur"),$(e).addClass("theater-mode"),$(".portfolio").addClass("height"),theaterItem=e,theaterActive=!0,swiper.autoplay.stop();var t=$(e).attr("value");console.log("theater_clicked",t),gtag("event","click",{event_label:"theater_mode",value:t})}function closeTheater(){$(".overlay").css("display","none"),$(theaterItem).prev().removeClass("blur"),$(theaterItem).removeClass("theater-mode"),$(".swiper-pagination, .swiper-scrollbar, .swiper-button-next, .swiper-button-prev").removeClass("blur"),$(".portfolio").removeClass("height"),theaterItem=null,theaterActive=!1,swiper.autoplay.start()}function include(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.src=e,n.type="text/javascript",n.defer=!0,n.add,t.appendChild(n)}function createFunctionWithTimeout(e,t){var n=!1;function a(){n||(n=!0,e())}return setTimeout(a,t||1e3),a}